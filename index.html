<!DOCTYPE html>
<html lang="es">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Flowly - Creador de Diagramas</title>

	<!-- SEO Meta Tags -->
	<meta name="description"
		content="Aplicación web moderna para crear diagramas de flujo, esquemas y diseños visuales. Similar a draw.io pero más simple y rápida. Desarrollado por Yami Cueto.">
	<meta name="keywords"
		content="diagramas, flowchart, diagramas de flujo, diseño visual, herramienta de diagramación, canvas interactivo, Yami Cueto">
	<meta name="author" content="Yami Cueto">

	<!-- Open Graph Meta Tags (Facebook, LinkedIn, WhatsApp) -->
	<meta property="og:title" content="Flowly - Creador de Diagramas Interactivo">
	<meta property="og:description"
		content="Crea diagramas de flujo profesionales con esta herramienta web moderna. Exporta a PNG, SVG, PDF y más. 100% gratis y open source.">
	<meta property="og:type" content="website">
	<meta property="og:url" content="https://yamicueto.github.io/Flowly">
	<meta property="og:image" content="https://avatars.githubusercontent.com/YamiCueto">
	<meta property="og:image:alt" content="Flowly - Creador de Diagramas por Yami Cueto">
	<meta property="og:site_name" content="Flowly">
	<meta property="og:locale" content="es_ES">

	<!-- Twitter Card Meta Tags -->
	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@YamiCueto">
	<meta name="twitter:creator" content="@YamiCueto">
	<meta name="twitter:title" content="Flowly - Creador de Diagramas Interactivo">
	<meta name="twitter:description"
		content="Crea diagramas de flujo profesionales con esta herramienta web moderna. Exporta a PNG, SVG, PDF y más. 100% gratis y open source.">
	<meta name="twitter:image" content="https://avatars.githubusercontent.com/YamiCueto">
	<meta name="twitter:image:alt" content="Flowly - Creador de Diagramas por Yami Cueto">

	<!-- Additional Meta Tags -->
	<meta name="theme-color" content="#3498db">
	<meta name="robots" content="index, follow">
	<link rel="canonical" href="https://yamicueto.github.io/Flowly">

	<!-- CSS Files -->
	<link rel="stylesheet" href="css/main.css">
	<link rel="stylesheet" href="css/toolbar.css">
	<link rel="stylesheet" href="css/modals.css">
	<link rel="stylesheet" href="css/tooltip.css">

	<!-- Font Awesome Icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	<!-- Bootstrap CSS (for tooltips and UI utilities) -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
	<!-- External Libraries -->
	<script src="https://unpkg.com/konva@9/konva.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

	<style>
		.footer {
			text-align: center;
			padding: 10px;
			background-color: #f8f9fa;
			font-size: 14px;
			color: #6c757d;
		}

		.footer a {
			color: inherit;
			text-decoration: none;
		}

		.footer span {
			color: #e25555;
		}
	</style>
</head>

<body>
	<!-- Top Toolbar -->
	<div class="toolbar">
		<div class="toolbar-section logo-section">
			<h1><i class="fas fa-draw-polygon"></i> Flowly </h1>
		</div>

		<div class="toolbar-section tools-section">
			<!-- Selection Tool -->
			<button class="tool-btn active" data-tool="select" data-tooltip="Seleccionar" data-shortcut="V"
				aria-label="Seleccionar">
				<i class="fas fa-mouse-pointer"></i>
			</button>

			<div class="toolbar-divider"></div>

			<!-- Shape Tools -->
			<button class="tool-btn" data-tool="rectangle" data-tooltip="Rectángulo" data-shortcut="R"
				aria-label="Rectángulo">
				<i class="far fa-square"></i>
			</button>
			<button class="tool-btn" data-tool="rounded-rectangle" data-tooltip="Rectángulo Redondeado"
				aria-label="Rectángulo Redondeado">
				<i class="fas fa-square"></i>
			</button>
			<button class="tool-btn" data-tool="circle" data-tooltip="Círculo" data-shortcut="C" aria-label="Círculo">
				<i class="far fa-circle"></i>
			</button>
			<button class="tool-btn" data-tool="ellipse" data-tooltip="Elipse" aria-label="Elipse">
				<i class="fas fa-circle"></i>
			</button>
			<button class="tool-btn" data-tool="triangle" data-tooltip="Triángulo" aria-label="Triángulo">
				<i class="fas fa-play fa-rotate-270"></i>
			</button>
			<button class="tool-btn" data-tool="pentagon" data-tooltip="Pentágono" aria-label="Pentágono">
				<!-- pentagon icon -->
				<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M12 2l7 6v7l-7 7-7-7V8l7-6z" fill="currentColor" />
				</svg>
			</button>
			<button class="tool-btn" data-tool="hexagon" data-tooltip="Hexágono" aria-label="Hexágono">
				<!-- hexagon icon -->
				<svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M12 2l8 4v8l-8 4-8-4V6l8-4z" fill="currentColor" />
				</svg>
			</button>

			<div class="toolbar-divider"></div>

			<!-- Line Tools -->
			<button class="tool-btn" data-tool="line" data-tooltip="Línea" data-shortcut="L" aria-label="Línea">
				<i class="fas fa-minus"></i>
			</button>
			<button class="tool-btn" data-tool="arrow" data-tooltip="Flecha" data-shortcut="A" aria-label="Flecha">
				<i class="fas fa-arrow-right"></i>
			</button>

			<div class="toolbar-divider"></div>

			<!-- Text Tool -->
			<button class="tool-btn" data-tool="text" data-tooltip="Texto" data-shortcut="T" aria-label="Texto">
				<i class="fas fa-font"></i>
			</button>

			<div class="toolbar-divider"></div>

			<!-- Pan/Hand Tool -->
			<button class="tool-btn" data-tool="pan" data-tooltip="Mover Vista" data-shortcut="H"
				aria-label="Mover Vista">
				<i class="fas fa-hand-paper"></i>
			</button>
		</div>

		<div class="toolbar-section actions-section">
			<!-- Undo/Redo -->
			<button class="action-btn" id="undo-btn" data-tooltip="Deshacer" data-shortcut="Ctrl+Z"
				aria-label="Deshacer">
				<i class="fas fa-undo"></i>
			</button>
			<button class="action-btn" id="redo-btn" data-tooltip="Rehacer" data-shortcut="Ctrl+Y" aria-label="Rehacer">
				<i class="fas fa-redo"></i>
			</button>

			<div class="toolbar-divider"></div>

			<!-- Zoom Controls -->
			<button class="action-btn" id="zoom-out-btn" data-tooltip="Alejar" data-shortcut="-" aria-label="Alejar">
				<i class="fas fa-search-minus"></i>
			</button>
			<span class="zoom-display" id="zoom-display">100%</span>
			<button class="action-btn" id="zoom-in-btn" data-tooltip="Acercar" data-shortcut="+" aria-label="Acercar">
				<i class="fas fa-search-plus"></i>
			</button>
			<button class="action-btn" id="zoom-fit-btn" data-tooltip="Ajustar a pantalla"
				aria-label="Ajustar a pantalla">
				<i class="fas fa-expand"></i>
			</button>

			<div class="toolbar-divider"></div>

			<!-- File Operations -->
			<button class="action-btn" id="new-btn" data-tooltip="Nuevo" data-shortcut="Ctrl+N" aria-label="Nuevo">
				<i class="fas fa-file"></i>
			</button>
			<button class="action-btn" id="save-btn" data-tooltip="Guardar" data-shortcut="Ctrl+S" aria-label="Guardar">
				<i class="fas fa-save"></i>
			</button>
			<button class="action-btn" id="load-btn" data-tooltip="Cargar" data-shortcut="Ctrl+O" aria-label="Cargar">
				<i class="fas fa-folder-open"></i>
			</button>

			<div class="toolbar-divider"></div>

			<!-- Export -->
			<button class="action-btn" id="export-btn" data-tooltip="Exportar" aria-label="Exportar">
				<i class="fas fa-download"></i>
			</button>
		</div>
	</div>

	<!-- Main Container -->
	<div class="main-container">
		<!-- Left Sidebar - Technical Components Library -->
		<div class="sidebar left-sidebar">
			<div id="components-library"></div>
		</div>

		<!-- Canvas Area -->
		<div class="canvas-container">
			<div class="canvas-controls">
				<label class="control-item">
					<input type="checkbox" id="grid-toggle" checked>
					<span>Mostrar Grid</span>
				</label>
				<label class="control-item">
					<input type="checkbox" id="snap-toggle" checked>
					<span>Snap to Grid</span>
				</label>
				<label class="control-item">
					<input type="checkbox" id="minimap-toggle" checked>
					<span>Mini-mapa</span>
				</label>
			</div>
			<div id="canvas-wrapper">
				<!-- Konva Stage will be created here -->
			</div>
		</div>

		<!-- Right Sidebar -->
		<div class="sidebar right-sidebar">
			<div class="sidebar-header">
				<h3>Propiedades</h3>
			</div>
			<div class="properties-panel" id="properties-panel">
				<div class="no-selection">
					<i class="fas fa-hand-pointer"></i>
					<p>Selecciona un elemento para editar sus propiedades</p>
				</div>

				<div class="properties-content" id="properties-content" style="display: none;">
					<!-- Fill Color -->
					<div class="property-group">
						<label>Color de Relleno</label>
						<div class="color-input-group">
							<input type="color" id="fill-color" value="#3498db">
							<input type="text" id="fill-color-text" value="#3498db" maxlength="7">
						</div>
					</div>

					<!-- Stroke Color -->
					<div class="property-group">
						<label>Color de Borde</label>
						<div class="color-input-group">
							<input type="color" id="stroke-color" value="#2c3e50">
							<input type="text" id="stroke-color-text" value="#2c3e50" maxlength="7">
						</div>
					</div>

					<!-- Stroke Width -->
					<div class="property-group">
						<label>Grosor de Borde</label>
						<input type="range" id="stroke-width" min="0" max="20" value="2" step="1">
						<span id="stroke-width-value">2px</span>
					</div>

					<!-- Opacity -->
					<div class="property-group">
						<label>Opacidad</label>
						<input type="range" id="opacity" min="0" max="100" value="100" step="5">
						<span id="opacity-value">100%</span>
					</div>

					<!-- Connector Properties -->
					<div class="property-group" id="connector-properties" style="display: none;">
						<h4>Conector</h4>
						<label>Tipo de conector</label>
						<select id="connector-type">
							<option value="arrow">Flecha</option>
							<option value="line">Línea</option>
							<option value="bezier">Bezier</option>
						</select>

						<label>Color</label>
						<div class="color-input-group">
							<input type="color" id="connector-stroke-color" value="#2c3e50">
							<input type="text" id="connector-stroke-color-text" value="#2c3e50" maxlength="7">
						</div>

						<label>Grosor</label>
						<input type="range" id="connector-stroke-width" min="0" max="10" value="2" step="1">
						<span id="connector-stroke-width-value">2px</span>

						<label><input type="checkbox" id="connector-dashed"> Trazos punteados</label>
						<label><input type="checkbox" id="connector-arrowhead" checked> Mostrar punta (flecha)</label>

						<div id="connector-curvature-row" style="display:none;">
							<label>Curvatura Bezier</label>
							<input type="range" id="connector-curvature" min="0" max="1" step="0.05" value="0.5">
							<span id="connector-curvature-value">0.50</span>
						</div>
					</div>

					<!-- Text Properties (shown only for text elements) -->
					<div class="property-group text-properties" id="text-properties" style="display: none;">
						<label>Tamaño de Fuente</label>
						<input type="number" id="font-size" min="8" max="72" value="16" step="1">

						<label>Color de Texto</label>
						<div class="color-input-group">
							<input type="color" id="text-color" value="#000000">
							<input type="text" id="text-color-text" value="#000000" maxlength="7">
						</div>
					</div>

					<!-- Position & Size -->
					<div class="property-group">
						<h4>Posición y Tamaño</h4>
						<div class="input-row">
							<div class="input-col">
								<label>X</label>
								<input type="number" id="pos-x" step="1">
							</div>
							<div class="input-col">
								<label>Y</label>
								<input type="number" id="pos-y" step="1">
							</div>
						</div>
						<div class="input-row">
							<div class="input-col">
								<label>Ancho</label>
								<input type="number" id="width" step="1" min="10">
							</div>
							<div class="input-col">
								<label>Alto</label>
								<input type="number" id="height" step="1" min="10">
							</div>
						</div>
					</div>

					<!-- Layer Controls -->
					<div class="property-group">
						<h4>Orden</h4>
						<div class="button-group">
							<button id="bring-front-btn" class="prop-btn">
								<i class="fas fa-angle-double-up"></i> Al frente
							</button>
							<button id="send-back-btn" class="prop-btn">
								<i class="fas fa-angle-double-down"></i> Atrás
							</button>
						</div>
					</div>

					<!-- Delete -->
					<div class="property-group">
						<button id="delete-btn" class="prop-btn delete-btn">
							<i class="fas fa-trash"></i> Eliminar
						</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Export Modal -->
	<div class="modal" id="export-modal">
		<div class="modal-content">
			<div class="modal-header">
				<h2>Exportar Diagrama</h2>
				<button type="button" title="Cerrar" class="modal-close" id="export-modal-close">
					<i class="fas fa-times"></i>
				</button>
			</div>
			<div class="modal-body">
				<div class="export-options">
					<button class="export-option" data-format="png">
						<i class="fas fa-file-image"></i>
						<span>PNG</span>
						<small>Imagen de alta calidad</small>
					</button>
					<button class="export-option" data-format="jpg">
						<i class="fas fa-file-image"></i>
						<span>JPG</span>
						<small>Imagen comprimida</small>
					</button>
					<button class="export-option" data-format="svg">
						<i class="fas fa-file-code"></i>
						<span>SVG</span>
						<small>Gráfico vectorial</small>
					</button>
					<button class="export-option" data-format="pdf">
						<i class="fas fa-file-pdf"></i>
						<span>PDF</span>
						<small>Documento portable</small>
					</button>
					<button class="export-option" data-format="json">
						<i class="fas fa-file-code"></i>
						<span>JSON</span>
						<small>Formato editable</small>
					</button>
				</div>
			</div>
		</div>
	</div>

	<!-- Load Modal -->
	<div class="modal" id="load-modal">
		<div class="modal-content">
			<div class="modal-header">
				<h2>Cargar Proyecto</h2>
				<button type="button" title="Cerrar" class="modal-close" id="load-modal-close">
					<i class="fas fa-times"></i>
				</button>
			</div>
			<div class="modal-body">
				<div class="saved-projects" id="saved-projects">
					<!-- Saved projects will be listed here -->
				</div>
				<div class="load-file-section">
					<p>O cargar desde archivo:</p>
					<input title="Seleccionar archivo" type="file" id="file-input" accept=".json"
						style="display: none;">
					<button class="prop-btn" id="load-file-btn">
						<i class="fas fa-upload"></i> Seleccionar Archivo JSON
					</button>
				</div>
			</div>
		</div>
	</div>

	<!-- JavaScript Modules -->
	<!-- Bootstrap & SweetAlert scripts (loaded before app module so app can initialize tooltips and use Swal) -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script type="module" src="js/app.js"></script>

	<!-- Footer -->
	<footer class="footer">
		Hecho con <span>❤️</span> por <strong>
			<a href="https://yamicueto.github.io/" target="_blank" rel="noopener">Yamid Cueto</a>
		</strong> para la comunidad
	</footer>
</body>

</html>