{
    "name": "Event-Driven Architecture",
    "description": "Arquitectura basada en eventos con AWS EventBridge, SNS, SQS y Lambda",
    "version": "1.0.0",
    "author": "Flowly Templates",
    "category": "aws",
    "difficulty": "intermediate",
    "estimatedTime": "10 min",
    "tags": ["aws", "event-driven", "serverless", "eventbridge", "sns", "sqs", "lambda"],
    "canvas": {
        "width": 1400,
        "height": 900,
        "gridSize": 20,
        "backgroundColor": "#FFFFFF"
    },
    "shapes": [
        {
            "id": "title",
            "type": "text",
            "x": 500,
            "y": 30,
            "text": "‚òÅÔ∏è Event-Driven Architecture",
            "fontSize": 24,
            "fontWeight": "bold",
            "fill": "#232F3E",
            "width": 400,
            "align": "center"
        },
        {
            "id": "api-gateway",
            "type": "component",
            "componentType": "aws-api-gateway",
            "x": 100,
            "y": 150,
            "width": 100,
            "height": 100,
            "fill": "#FF9900",
            "stroke": "#232F3E",
            "strokeWidth": 2,
            "label": "API Gateway"
        },
        {
            "id": "api-label",
            "type": "text",
            "x": 80,
            "y": 260,
            "text": "API Gateway",
            "fontSize": 14,
            "fontWeight": "bold",
            "fill": "#232F3E",
            "width": 140,
            "align": "center"
        },
        {
            "id": "eventbridge",
            "type": "rounded-rectangle",
            "x": 350,
            "y": 150,
            "width": 150,
            "height": 100,
            "fill": "#FF4F8B",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "eventbridge-label",
            "type": "text",
            "x": 360,
            "y": 190,
            "text": "‚ö° EventBridge\nEvent Bus",
            "fontSize": 14,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 130,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "sns-topic",
            "type": "rounded-rectangle",
            "x": 600,
            "y": 80,
            "width": 140,
            "height": 80,
            "fill": "#E7157B",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "sns-label",
            "type": "text",
            "x": 610,
            "y": 105,
            "text": "üì¢ SNS Topic\nNotifications",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "sqs-queue-1",
            "type": "rounded-rectangle",
            "x": 600,
            "y": 200,
            "width": 140,
            "height": 80,
            "fill": "#FF4F8B",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "sqs-label-1",
            "type": "text",
            "x": 610,
            "y": 225,
            "text": "üì¨ SQS Queue\nOrders",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "sqs-queue-2",
            "type": "rounded-rectangle",
            "x": 600,
            "y": 320,
            "width": 140,
            "height": 80,
            "fill": "#FF4F8B",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "sqs-label-2",
            "type": "text",
            "x": 610,
            "y": 345,
            "text": "üì¨ SQS Queue\nInventory",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "lambda-email",
            "type": "rounded-rectangle",
            "x": 820,
            "y": 60,
            "width": 140,
            "height": 80,
            "fill": "#FF9900",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "lambda-email-label",
            "type": "text",
            "x": 830,
            "y": 85,
            "text": "Œª Lambda\nEmail Service",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "lambda-sms",
            "type": "rounded-rectangle",
            "x": 820,
            "y": 160,
            "width": 140,
            "height": 80,
            "fill": "#FF9900",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "lambda-sms-label",
            "type": "text",
            "x": 830,
            "y": 185,
            "text": "Œª Lambda\nSMS Service",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "lambda-orders",
            "type": "rounded-rectangle",
            "x": 820,
            "y": 270,
            "width": 140,
            "height": 80,
            "fill": "#FF9900",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "lambda-orders-label",
            "type": "text",
            "x": 830,
            "y": 295,
            "text": "Œª Lambda\nOrder Processor",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "lambda-inventory",
            "type": "rounded-rectangle",
            "x": 820,
            "y": 370,
            "width": 140,
            "height": 80,
            "fill": "#FF9900",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "lambda-inventory-label",
            "type": "text",
            "x": 830,
            "y": 395,
            "text": "Œª Lambda\nInventory Update",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "dynamodb",
            "type": "rounded-rectangle",
            "x": 1050,
            "y": 200,
            "width": 140,
            "height": 100,
            "fill": "#527FFF",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "dynamodb-label",
            "type": "text",
            "x": 1060,
            "y": 235,
            "text": "üóÑÔ∏è DynamoDB\nOrders DB",
            "fontSize": 14,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "s3",
            "type": "rounded-rectangle",
            "x": 1050,
            "y": 350,
            "width": 140,
            "height": 100,
            "fill": "#569A31",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "s3-label",
            "type": "text",
            "x": 1060,
            "y": 385,
            "text": "ü™£ S3 Bucket\nInventory Data",
            "fontSize": 14,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "cloudwatch",
            "type": "rounded-rectangle",
            "x": 350,
            "y": 320,
            "width": 150,
            "height": 80,
            "fill": "#FF4F8B",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "cloudwatch-label",
            "type": "text",
            "x": 360,
            "y": 345,
            "text": "üìä CloudWatch\nLogs & Metrics",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 130,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "ses",
            "type": "rounded-rectangle",
            "x": 1050,
            "y": 60,
            "width": 140,
            "height": 80,
            "fill": "#DD344C",
            "stroke": "#232F3E",
            "strokeWidth": 3,
            "cornerRadius": 8
        },
        {
            "id": "ses-label",
            "type": "text",
            "x": 1060,
            "y": 85,
            "text": "‚úâÔ∏è SES\nEmail Service",
            "fontSize": 13,
            "fontWeight": "bold",
            "fill": "#FFFFFF",
            "width": 120,
            "align": "center",
            "lineHeight": 1.4
        },
        {
            "id": "event-flow-label",
            "type": "text",
            "x": 100,
            "y": 500,
            "text": "üìù Event Flow:\n1. API Gateway receives request ‚Üí publishes event to EventBridge\n2. EventBridge routes events to SNS Topics and SQS Queues based on rules\n3. SNS fans out notifications to Email and SMS Lambda functions\n4. SQS queues trigger processing Lambda functions\n5. Lambda functions store data in DynamoDB and S3\n6. All services log to CloudWatch for monitoring",
            "fontSize": 13,
            "fill": "#232F3E",
            "width": 1100,
            "lineHeight": 1.6
        },
        {
            "id": "benefits-box",
            "type": "rounded-rectangle",
            "x": 100,
            "y": 650,
            "width": 1100,
            "height": 180,
            "fill": "#E8F5E9",
            "stroke": "#4CAF50",
            "strokeWidth": 2,
            "cornerRadius": 8
        },
        {
            "id": "benefits-label",
            "type": "text",
            "x": 120,
            "y": 670,
            "text": "‚ú® Benefits of Event-Driven Architecture:\n\n‚Ä¢ Loose Coupling: Services don't need to know about each other\n‚Ä¢ Scalability: Each component scales independently based on load\n‚Ä¢ Resilience: Failed components don't affect event producers\n‚Ä¢ Flexibility: Easy to add new consumers without modifying producers\n‚Ä¢ Async Processing: Non-blocking operations improve responsiveness",
            "fontSize": 13,
            "fill": "#1B5E20",
            "width": 1060,
            "lineHeight": 1.8
        }
    ],
    "connectors": [
        {
            "from": "api-gateway",
            "to": "eventbridge",
            "type": "arrow",
            "label": "Events",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "eventbridge",
            "to": "sns-topic",
            "type": "arrow",
            "label": "Route",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "eventbridge",
            "to": "sqs-queue-1",
            "type": "arrow",
            "label": "Route",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "eventbridge",
            "to": "sqs-queue-2",
            "type": "arrow",
            "label": "Route",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "sns-topic",
            "to": "lambda-email",
            "type": "arrow",
            "label": "Trigger",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "sns-topic",
            "to": "lambda-sms",
            "type": "arrow",
            "label": "Trigger",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "sqs-queue-1",
            "to": "lambda-orders",
            "type": "arrow",
            "label": "Trigger",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "sqs-queue-2",
            "to": "lambda-inventory",
            "type": "arrow",
            "label": "Trigger",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "lambda-email",
            "to": "ses",
            "type": "arrow",
            "label": "Send",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "lambda-orders",
            "to": "dynamodb",
            "type": "arrow",
            "label": "Store",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "lambda-inventory",
            "to": "s3",
            "type": "arrow",
            "label": "Store",
            "stroke": "#232F3E",
            "strokeWidth": 2
        },
        {
            "from": "eventbridge",
            "to": "cloudwatch",
            "type": "arrow",
            "label": "Logs",
            "stroke": "#95A5A6",
            "strokeWidth": 1,
            "dash": [5, 5]
        }
    ]
}
